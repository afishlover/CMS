
@{
	var course = (CourseDTO)ViewData["currentCourse"];
	ViewData["Title"] = course.CourseName ?? "";

	var role = ViewData["role"];
}

<!--begin::Content-->
<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
	<!--begin::Post-->
	<div class="post d-flex flex-column-fluid" id="kt_post">
		<!--begin::Container-->
		<div id="kt_content_container" class="container-xxl">
			<!--begin::Navbar-->
			<div class="card mb-8">
				<div class="card-body pt-9 pb-0">
					<!--begin::Details-->
					<div class="d-flex flex-wrap flex-sm-nowrap mb-6">
						<!--begin::Image-->
						<div class="d-flex flex-center flex-shrink-0 bg-light rounded w-100px h-100px w-lg-150px h-lg-150px me-7 mb-4">
							<img class="mw-50px mw-lg-75px" src="~/media/svg/brand-logos/volicity-9.svg" alt="image" />
						</div>
						<!--end::Image-->
						<!--begin::Wrapper-->
						<div class="flex-grow-1">
							<!--begin::Head-->
							<div class="d-flex justify-content-between align-items-start flex-wrap mb-2">
								<!--begin::Details-->
								<div class="d-flex flex-column">
									<!--begin::Status-->
									<div class="d-flex align-items-center mb-1">
										<a href="#" class="text-gray-800 text-hover-primary fs-2 fw-bolder me-3">Course: @course.CourseName</a>
									</div>
									<!--end::Status-->
									<!--begin::Description-->
									<div class="d-flex flex-wrap fw-bold mb-4 fs-5 text-gray-400">Course Code: @course.CourseCode</div>
									<!--end::Description-->
									<!--begin::Description-->
									<div class="d-flex flex-wrap fw-bold mb-4 fs-5 text-gray-400">Category: @course.CategoryName</div>
									<!--end::Description-->
									<!--begin::Description-->
									<div class="d-flex flex-wrap fw-bold mb-4 fs-5 text-gray-400">Teacher: @course.TeacherName</div>
									<!--end::Description-->
									<!--begin::Description-->
									<div class="d-flex flex-wrap fw-bold mb-4 fs-5 text-gray-400">Last updated at: @course.LastUpdate</div>
									<!--end::Description-->
									<!--begin::Description-->
									<div class="d-flex flex-wrap fw-bold mb-4 fs-5 text-gray-400">Created by: @course.CreatorCode at @course.Since</div>
									<!--end::Description-->
								</div>
								<!--end::Details-->
								<!--begin::Actions-->
								@{
									if (role.Equals("Teacher"))
									{
										//check edit course
										<div class="d-flex mb-4">
											<a href="#" class="btn btn-sm btn-primary me-3" data-bs-toggle="modal" data-bs-target="#kt_modal_new_target">Edit course</a>
										</div>
									} else
									{
										//check enrolled
										<div class="d-flex mb-4">
											<a href="#" class="btn btn-sm btn-primary me-3">Enroll</a>
										</div>
									}
								}
								
								<!--end::Actions-->
							</div>
							<!--end::Head-->
							<!--begin::Info-->
							<div class="d-flex flex-wrap justify-content-start">
								<!--begin::Stats-->
								<div class="d-flex flex-wrap">
									<!--begin::Stat-->
									<div class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3">
										<!--begin::Number-->
										<div class="d-flex align-items-center">
											<div class="fs-4 fw-bolder">0</div>
										</div>
										<!--end::Number-->
										<!--begin::Label-->
										<div class="fw-bold fs-6 text-gray-400">Students</div>
										<!--end::Label-->
									</div>
									<!--end::Stat-->
								</div>
								<!--end::Stats-->
							</div>
							<!--end::Info-->
						</div>
						<!--end::Wrapper-->
					</div>
					<!--end::Details-->
				</div>
			</div>
			<!--end::Navbar-->
			<!--begin::Modals-->
			<!--begin::Modal - Create Course-->
			<div class="modal fade" id="kt_modal_new_target" tabindex="-1" aria-hidden="true">
				<!--begin::Modal dialog-->
				<div class="modal-dialog modal-dialog-centered mw-650px">
					<!--begin::Modal content-->
					<div class="modal-content rounded">
						<!--begin::Modal header-->
						<div class="modal-header pb-0 border-0 justify-content-end">
							<!--begin::Close-->
							<div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
								<!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
								<span class="svg-icon svg-icon-1">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
										<rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black" />
										<rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black" />
									</svg>
								</span>
								<!--end::Svg Icon-->
							</div>
							<!--end::Close-->
						</div>
						<!--begin::Modal header-->
						<!--begin::Modal body-->
						<div class="modal-body scroll-y px-10 px-lg-15 pt-0 pb-15">
							<!--begin:Form-->
							<form id="kt_modal_new_target_form" class="form" asp-controller="Course" asp-action="Edit" method="POST">
								<!--begin::Heading-->
								<div class="mb-13 text-center">
									<!--begin::Title-->
									<h1 class="mb-3">Edit Course</h1>
									<!--end::Title-->
								</div>
								<!--end::Heading-->
								<!--begin::Input group-->
								<div class="d-flex flex-column mb-8 fv-row">
									<!--begin::Label-->
									<label class="d-flex align-items-center fs-6 fw-bold mb-2">
										<span class="required">Course Name</span>
										<i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" title="Specify a target name for future usage and reference"></i>
									</label>
									<!--end::Label-->
									<input type="text" class="form-control form-control-solid" placeholder="Enter Course Name" name="courseName" value=@course.CourseName />
								</div>
								<!--end::Input group-->
								<!--begin::Input group-->
								<div class="d-flex flex-column mb-8 fv-row">
									<!--begin::Label-->
									<label class="d-flex align-items-center fs-6 fw-bold mb-2">
										<span class="required">Course Code</span>
										<i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" title="Specify a target name for future usage and reference"></i>
									</label>
									<!--end::Label-->
									<input type="text" class="form-control form-control-solid" placeholder="Enter Course Code" name="courseCode" value=@course.CourseCode />
								</div>
								<!--end::Input group-->
								<!--begin::Input group-->
								<div class="d-flex flex-column mb-8 fv-row">
									<!--begin::Label-->
									<label class="d-flex align-items-center fs-6 fw-bold mb-2">
										<span class="required">Start Date</span>
										<i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" title="Specify a target name for future usage and reference"></i>
									</label>
									<!--end::Label-->
									<input type="date" class="form-control form-control-solid" name="startDate" value="2023-03-01" />
								</div>
								<!--end::Input group-->
								<!--begin::Input group-->
								<div class="d-flex flex-column mb-8 fv-row">
									<!--begin::Label-->
									<label class="d-flex align-items-center fs-6 fw-bold mb-2">
										<span class="required">End Date</span>
										<i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" title="Specify a target name for future usage and reference"></i>
									</label>
									<!--end::Label-->
									<input type="date" class="form-control form-control-solid" name="endDate" value="2023-03-31" />
								</div>
								<!--end::Input group-->
								<input type="text" class="form-control form-control-solid" name="courseId" value=@course.CourseId />
								<input type="text" class="form-control form-control-solid" name="categoryName" value=@course.CategoryName />
								<!--begin::Actions-->
								<div class="text-center">
									<button class="btn btn-light me-3" data-bs-dismiss="modal">Cancel</button>
									<button type="submit" id="kt_modal_new_target_submit" class="btn btn-primary">
										<span class="indicator-label">Edit</span>
										<span class="indicator-progress">
											Please wait...
											<span class="spinner-border spinner-border-sm align-middle ms-2"></span>
										</span>
									</button>
								</div>
								<!--end::Actions-->
							</form>
							<!--end:Form-->
						</div>
						<!--end::Modal body-->
					</div>
					<!--end::Modal content-->
				</div>
				<!--end::Modal dialog-->
			</div>
			<!--end::Modal - Create Course-->
			<!--end::Modals-->
			<!--begin::Toolbar-->
			<div class="d-flex flex-wrap flex-stack pb-7">
				<!--begin::Title-->
				<div class="d-flex flex-wrap align-items-center my-1">
					<h3 class="fw-bolder me-5 my-1">Resources</h3>
				</div>
				<!--end::Title-->
			</div>
			<!--end::Toolbar-->
			<!--begin::Tab Content-->
			<div class="tab-content">
				@*<!--begin::Tab pane-->
				<div id="kt_project_users_card_pane" class="tab-pane fade show active">
					<!--begin::Row-->
					<div class="row g-6 g-xl-9">
						@foreach (var cat in categories)
						{
							<!--begin::Col-->
							<div class="col-md-6 col-xxl-4">
								<!--begin::Card-->
								<div class="card">
									<!--begin::Card body-->
									<div class="card-body d-flex flex-center flex-column pt-12 p-9">
										<!--begin::Avatar-->
										<div class="symbol symbol-65px symbol-circle mb-5">
											<span class="symbol-label fs-2x fw-bold text-success bg-light-success">@cat.CategoryName.Substring(0,1)</span>
										</div>
										<!--end::Avatar-->
										<!--begin::Name-->
										<a asp-controller="Category" asp-action="Detail" asp-route-id="@cat.CategoryId" class="fs-4 text-gray-800 text-hover-primary fw-bolder mb-0">@cat.CategoryName</a>
										<!--end::Name-->
										<!--begin::Position-->
										<div class="fw-bold text-gray-400 mb-6">@cat.Description</div>
										<!--end::Position-->
										<!--begin::Info-->
										<div class="d-flex flex-center flex-wrap">
											<!--begin::Stats-->
											<div class="border border-gray-300 border-dashed rounded min-w-80px py-3 px-4 mx-2 mb-3">
												<div class="fs-6 fw-bolder text-gray-700">0</div>
												<div class="fw-bold text-gray-400">Courses</div>
											</div>
											<!--end::Stats-->
											<!--begin::Stats-->
											<div class="border border-gray-300 border-dashed rounded min-w-80px py-3 px-4 mx-2 mb-3">
												<div class="fs-6 fw-bolder text-gray-700">0</div>
												<div class="fw-bold text-gray-400">Subcategories</div>
											</div>
											<!--end::Stats-->
										</div>
										<!--end::Info-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Card-->
							</div>
							<!--end::Col-->
						}
					</div>
					<!--end::Row-->
				</div>
				<!--end::Tab pane-->*@
			</div>
			<!--end::Tab Content-->
			<!--begin::Toolbar-->
			<div class="d-flex flex-wrap flex-stack pb-7">
				<!--begin::Title-->
				<div class="d-flex flex-wrap align-items-center my-1">
					<h3 class="fw-bolder me-5 my-1">Students enrolled this course</h3>
				</div>
				<!--end::Title-->
			</div>
			<!--end::Toolbar-->
			<!--begin::Tab Content-->
			<div class="tab-content">
				@*<!--begin::Tab pane-->
				<div id="kt_project_users_card_pane" class="tab-pane fade show active">
					<!--begin::Row-->
					<div class="row g-6 g-xl-9">
						@foreach (var course in courses)
						{
							<!--begin::Col-->
							<div class="col-md-6 col-xxl-4">
								<!--begin::Card-->
								<div class="card">
									<!--begin::Card body-->
									<div class="card-body d-flex flex-center flex-column pt-12 p-9">
										<!--begin::Avatar-->
										<div class="symbol symbol-65px symbol-circle mb-5">
											<span class="symbol-label fs-2x fw-bold text-success bg-light-success">@course.CourseName.Substring(0,1)</span>
										</div>
										<!--end::Avatar-->
										<!--begin::Name-->
										<a asp-controller="Course" asp-action="Detail" asp-route-id="@course.CourseId" class="fs-4 text-gray-800 text-hover-primary fw-bolder mb-0">@course.CourseName (@course.CourseCode)</a>
										<!--end::Name-->
										<!--begin::Position-->
										<div class="fw-bold text-gray-400 mb-6">@course.TeacherName</div>
										<!--end::Position-->
										<!--begin::Info-->
										<div class="d-flex flex-center flex-wrap">
											<!--begin::Stats-->
											<div class="border border-gray-300 border-dashed rounded min-w-80px py-3 px-4 mx-2 mb-3">
												<div class="fs-6 fw-bolder text-gray-700">0</div>
												<div class="fw-bold text-gray-400">Students</div>
											</div>
											<!--end::Stats-->
										</div>
										<!--end::Info-->
									</div>
									<!--end::Card body-->
								</div>
								<!--end::Card-->
							</div>
							<!--end::Col-->
						}
					</div>
					<!--end::Row-->
				</div>
				<!--end::Tab pane-->*@
			</div>
			<!--end::Tab Content-->

		</div>
		<!--end::Container-->
	</div>
	<!--end::Post-->
</div>
<!--end::Content-->

<script>var hostUrl = "~/";</script>
<!--begin::Javascript-->
<!--begin::Page Vendors Javascript(used by this page)-->
<script src="~/plugins/custom/datatables/datatables.bundle.js"></script>
<!--end::Page Vendors Javascript-->
<!--begin::Page Custom Javascript(used by this page)-->
<script src="~/js/custom/pages/projects/list/list.js"></script>
<script src="~/js/custom/pages/projects/users/users.js"></script>
<script src="~/js/custom/modals/users-search.js"></script>
<script src="~/js/custom/widgets.js"></script>
<script src="~/js/custom/apps/chat/chat.js"></script>
<script src="~/js/custom/modals/create-app.js"></script>
<script src="~/js/custom/modals/upgrade-plan.js"></script>
<!--end::Page Custom Javascript-->
<!--end::Javascript-->